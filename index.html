<html>
  <head>
    <meta charset="UTF-8" />
    <title>志田雅貴</title>
  </head>
  <body>
    <div id="app"></app>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/0.14.7/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-modal/3.4.4/react-modal.min.js"></script>

    <script>
    var Modal = React.createClass({
      getInitialState: function() {
        return { modalIsOpen: false };
      },
      openModal: function() {
        this.setState({modalIsOpen: true});
      },
      closeModal: function() {
        this.setState({modalIsOpen: false});
      },
      render: function() {
        return React.createElement('div', {},
          React.createElement('button', { onClick : {this.openModal} }, 'Open Modal'),
          React.createElement('Modal', {},
            React.createElement('button', {},),
            React.createElement('div', {}, 'I am a modal')
          )
        )
        /*
        return (
          <div>
            <button onClick={this.openModal}>Open Modal</button>
            <Modal
              isOpen={this.state.modalIsOpen}
              onRequestClose={this.closeModal}
            >
            <h2>Hello</h2>
            <button onClick={this.closeModal}>close</button>
            <div>I am a modal</div>
            <form>
              <input />
              <button>tab navigation</button>
              <button>stays</button>
              <button>inside</button>
              <button>the modal</button>
            </form>
            </Modal>
          </div>
        );
        */
      }
    });
    // Header component
    var Header = React.createClass({
      render: function() {
        return React.createElement('header', {},
          React.createElement('h1', {}, '志田雅貴'),
          React.createElement('ul', {},
            React.createElement('li', {},
              React.createElement('a', { href: './about'}, 'About')
            ),
            React.createElement('li', {},
              React.createElement('a', { href: './contact'}, 'Contact')
            )
          )
        )
      }
    });

    // Main commponent
    var Btn = React.createClass({
      render: function() {
        return React.createElement('div', {},
          React.createElement('button', {}, 'music'),
          React.createElement('button', {}, 'music'),
          React.createElement('button', {}, 'music'),
        )
      }
    });

    // 新しいコンポーネントを追加する。
    // 画面表示の状態を保持する
    // ポップアップするには、どんな機能が必要か考える
    // 
    // var Dialog = React.createClass({});

    var CounterApp = React.createClass({
      getInitialState: function() {
        return {
          count: 0,     
        }
      },
      render: function() {
        return React.createElement('div', {},
          React.createElement('div', {}, "count: " + this.state.count),
          React.createElement('button', {
            onClick: function() {
              this.setState({
                count: this.state.count + 1
              })
            }.bind(this),
          }, "+1"),
          React.createElement('button', {
            onClick: function() {
              this.setState({
                count: this.state.count - 1
              })
            }.bind(this),
          }, "-1")
        )
      }
    })

    // Footer component
    var Footer = React.createClass({
      render: function() {
        return React.createElement('footer', {},
          React.createElement('small', {}, '志田雅貴')
        )
      }
    })
    
    // コンポーネントをまとめる
    var rootElement = React.createElement('div', {},
      React.createElement(Header, {}),
      React.createElement(Btn, {}),
      React.createElement(CounterApp, {}),
      React.createElement(Modal, {}),
      React.createElement(Footer, {}),
    )
    ReactDOM.render(rootElement, document.getElementById("app"))
    </script>
  </body>
</html>